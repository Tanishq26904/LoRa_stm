/*
 * Mesh.c
 *
 *  Created on: Jan 24, 2026
 *      Author: 22142
 */
#include "Mesh.h"
#include "usart.h"


static uint8_t radioErrorCount = 0;
static uint32_t lastResetTime = 0;

void hard_reset_radio(void) {
    // Hard reset the radio
    HAL_GPIO_WritePin(RESET_GPIO_Port, RESET_Pin, GPIO_PIN_RESET);
    HAL_Delay(10);
    HAL_GPIO_WritePin(RESET_GPIO_Port, RESET_Pin, GPIO_PIN_SET);
    HAL_Delay(100);

    // Ensure NSS is high
    HAL_GPIO_WritePin(NSS_GPIO_Port, NSS_Pin, GPIO_PIN_SET);
    HAL_Delay(10);

    radioErrorCount = 0;
    lastResetTime = HAL_GetTick();
}
